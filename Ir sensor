/* Main.c file generated by New Project wizard
 *
 * Created:   Thu Sep 28 2023
 * Processor: MSP430G2553
 * Compiler:  GCC for MSP430
 */

#include <msp430.h>

#define IR_SENSOR_PIN   BIT0 // Input from IR sensor (adjust as needed)
#define BUZZER_PIN      BIT1 // Output to control buzzer (adjust as needed)

void main(void)
{
    WDTCTL = WDTPW | WDTHOLD; // Stop the Watchdog Timer

    P1DIR &= ~IR_SENSOR_PIN;  // Set IR sensor pin as input
    P1REN |= IR_SENSOR_PIN;   // Enable pull-up resistor on IR sensor pin
    P1OUT |= IR_SENSOR_PIN;   // Set pull-up resistor

    P1DIR |= BUZZER_PIN;      // Set buzzer pin as output
    P1OUT &= ~BUZZER_PIN;     // Initially turn off the buzzer
    int i;
    while (1)
    {
        if ((P1IN & IR_SENSOR_PIN)) // Check if IR sensor output is High (object detected)
        {
            P1OUT |= BUZZER_PIN;   // Turn on the buzzer
           for(i=0;i<100;i++); // Delay to avoid rapid toggling (adjust as needed)
        }
        else
        {
            P1OUT &= ~BUZZER_PIN;  // Turn off the buzzer
        }
    }
}
